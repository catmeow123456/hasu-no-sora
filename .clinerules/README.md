# Hasu no Sora éŸ³ä¹æ’­æ”¾å™¨ - é¡¹ç›®æ¦‚è§ˆ

## ğŸµ é¡¹ç›®ç®€ä»‹

Hasu no Sora æ˜¯ä¸€ä¸ªæ¸©æš–é˜³å…‰é£æ ¼çš„ Web éŸ³ä¹æ’­æ”¾å™¨ï¼Œä¸“ä¸º Hasu no Sora éŸ³ä¹ä¸“è¾‘è®¾è®¡ã€‚é‡‡ç”¨ TypeScript å…¨æ ˆå¼€å‘ï¼Œä½¿ç”¨ Yarn Workspaces ç®¡ç† Monorepo ç»“æ„ã€‚

## ğŸ—ï¸ æŠ€æœ¯æ ˆ

### åç«¯ (packages/server)
- **Node.js** + **Express** + **TypeScript**
- **express-session** - Session ç®¡ç†å’Œè®¤è¯
- **music-metadata** - éŸ³é¢‘å…ƒæ•°æ®è§£æ
- **CORS** - è·¨åŸŸæ”¯æŒ
- **TSX** - TypeScript æ‰§è¡Œå™¨

### å‰ç«¯ (packages/ui)
- **React 18** + **TypeScript**
- **Styled Components** - CSS-in-JS æ ·å¼
- **Vite** - æ„å»ºå·¥å…·å’Œå¼€å‘æœåŠ¡å™¨
- **React Router DOM** - è·¯ç”±ç®¡ç†

### å¼€å‘å·¥å…·
- **Yarn Workspaces** - Monorepo ç®¡ç†
- **Concurrently** - å¹¶è¡Œè¿è¡Œè„šæœ¬

## ğŸ“ é¡¹ç›®ç»“æ„

```
hasu-no-sora/
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ server/              # Express åç«¯æœåŠ¡å™¨
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts     # æœåŠ¡å™¨å…¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ types/       # ç±»å‹å®šä¹‰
â”‚   â”‚   â”‚   â””â”€â”€ utils/       # å·¥å…·å‡½æ•° (musicScanner)
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â””â”€â”€ ui/                  # React å‰ç«¯åº”ç”¨
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ components/  # React ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ hooks/       # è‡ªå®šä¹‰ Hooks
â”‚       â”‚   â”œâ”€â”€ services/    # API æœåŠ¡
â”‚       â”‚   â”œâ”€â”€ styles/      # æ ·å¼å’Œä¸»é¢˜
â”‚       â”‚   â””â”€â”€ types/       # ç±»å‹å®šä¹‰
â”‚       â””â”€â”€ package.json
â”œâ”€â”€ music/                   # éŸ³ä¹æ–‡ä»¶å­˜å‚¨
â””â”€â”€ package.json            # æ ¹ç›®å½•é…ç½®
```

## ğŸš€ å¼€å‘å‘½ä»¤

```bash
# å®‰è£…ä¾èµ–
yarn install

# å¼€å‘æ¨¡å¼ (åŒæ—¶å¯åŠ¨å‰åç«¯)
yarn dev

# æ„å»ºå‰ç«¯
yarn build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
yarn start

# æ¸…ç†æ„å»ºæ–‡ä»¶
yarn clean
```

## ğŸŒ æœåŠ¡ç«¯å£

- **å‰ç«¯å¼€å‘æœåŠ¡å™¨**: http://localhost:5173
- **åç«¯å¼€å‘æœåŠ¡å™¨**: http://localhost:3001
- **ç”Ÿäº§æœåŠ¡å™¨**: http://localhost:3000

## ğŸ“¡ API æ¥å£

### è®¤è¯æ¥å£
- `POST /api/auth/login` - ç”¨æˆ·ç™»å½• (éœ€è¦å¯†ç : `hasu-no-sora`)
- `POST /api/auth/logout` - ç”¨æˆ·ç™»å‡º
- `GET /api/auth/status` - æ£€æŸ¥è®¤è¯çŠ¶æ€

### æ ¸å¿ƒæ¥å£ (éœ€è¦è®¤è¯)
- `GET /api/albums` - è·å–ä¸“è¾‘åˆ—è¡¨
- `GET /api/albums/:id` - è·å–ä¸“è¾‘è¯¦æƒ…
- `GET /api/images/:albumId/:filename` - è·å–ä¸“è¾‘å°é¢
- `GET /audio/:albumName/:filename` - è·å–éŸ³é¢‘æ–‡ä»¶
- `GET /api/lyrics/:albumName/:trackFilename` - è·å–æ­Œè¯æ–‡ä»¶ (LRC æ ¼å¼)

### å¼€å‘æ¥å£ (éœ€è¦è®¤è¯)
- `POST /api/rescan` - å¼ºåˆ¶é‡æ–°æ‰«æéŸ³ä¹åº“å¹¶æ¸…é™¤ç¼“å­˜

### å…¬å¼€æ¥å£
- `GET /api/health` - å¥åº·æ£€æŸ¥

## ğŸ¨ è®¾è®¡ç³»ç»Ÿ

### è‰²å½©æ–¹æ¡ˆ
- **ä¸»è‰²è°ƒ**: æš–æ©™è‰² (#FF8C42)
- **æ¬¡è¦è‰²**: é‡‘é»„è‰² (#FFD23F)
- **å¼ºè°ƒè‰²**: æŸ”å’Œç²‰è‰² (#FF6B9D)
- **èƒŒæ™¯è‰²**: å¥¶æ²¹ç™½ (#FFF8F0)

### å­—ä½“
- **ä¸»å­—ä½“**: Inter, Noto Sans SC
- **æ ‡é¢˜å­—ä½“**: Poppins, Noto Sans SC

## ğŸµ éŸ³ä¹æ–‡ä»¶ç»„ç»‡

éŸ³ä¹æ–‡ä»¶æŒ‰ä¸“è¾‘æ–‡ä»¶å¤¹ç»„ç»‡åœ¨ `music/` ç›®å½•ä¸‹ï¼š

```
music/
â”œâ”€â”€ Dream believers/
â”‚   â”œâ”€â”€ 01 Dream Believers.mp3
â”‚   â””â”€â”€ ...
â”œâ”€â”€ HolidayâˆHoliday - Tragic Drops/
â”‚   â”œâ”€â”€ 01 è¬³æ­Œçˆ›æ¼«.mp3
â”‚   â”œâ”€â”€ Folder.jpg          # ä¸“è¾‘å°é¢
â”‚   â””â”€â”€ ...
â””â”€â”€ Reflection In the mirror/
    â””â”€â”€ ...
```

### æ”¯æŒæ ¼å¼
- **éŸ³é¢‘**: `.mp3`, `.wav`, `.flac`, `.m4a`, `.ogg`
- **å°é¢**: `.jpg`, `.jpeg`, `.png`, `.gif`, `.webp`

## ğŸ”§ æ ¸å¿ƒåŠŸèƒ½

1. **å¯†ç ä¿æŠ¤** - éœ€è¦è¾“å…¥å¯†ç  `hasu-no-sora` æ‰èƒ½è®¿é—®
2. **ä¸“è¾‘æµè§ˆ** - ç½‘æ ¼å±•ç¤ºæ‰€æœ‰ä¸“è¾‘
3. **éŸ³ä¹æ’­æ”¾** - æ”¯æŒæ’­æ”¾/æš‚åœã€ä¸Šä¸€é¦–/ä¸‹ä¸€é¦–
4. **éŸ³é‡æ§åˆ¶** - å¯è°ƒèŠ‚æ’­æ”¾éŸ³é‡
5. **è¿›åº¦æ§åˆ¶** - æ˜¾ç¤ºæ’­æ”¾è¿›åº¦ï¼Œæ”¯æŒæ‹–æ‹½è·³è½¬
6. **ä¸“è¾‘å°é¢** - è‡ªåŠ¨è¯†åˆ«å¹¶æ˜¾ç¤ºä¸“è¾‘å°é¢
7. **æ­Œè¯æ»šåŠ¨** - LRC æ ¼å¼æ­Œè¯å®æ—¶åŒæ­¥æ»šåŠ¨æ˜¾ç¤º
8. **å“åº”å¼è®¾è®¡** - é€‚é…ä¸åŒè®¾å¤‡å±å¹•

## ğŸ¯ AI åŠ©æ‰‹å·¥ä½œæŒ‡å¯¼

### å¼€å‘é‡ç‚¹
- ä¿æŒ TypeScript ç±»å‹å®‰å…¨
- éµå¾ª React Hooks æœ€ä½³å®è·µ
- ä½¿ç”¨ Styled Components è¿›è¡Œæ ·å¼ç®¡ç†
- ç¡®ä¿å‰åç«¯ç±»å‹å®šä¹‰åŒæ­¥
- ç»´æŠ¤æ¸©æš–é˜³å…‰çš„è®¾è®¡é£æ ¼

### å¸¸è§ä»»åŠ¡
- æ·»åŠ æ–°çš„éŸ³ä¹æ’­æ”¾åŠŸèƒ½
- ä¼˜åŒ–éŸ³é¢‘åŠ è½½å’Œæ’­æ”¾æ€§èƒ½
- æ‰©å±•ä¸“è¾‘å’ŒéŸ³è½¨å…ƒæ•°æ®æ”¯æŒ
- æ”¹è¿› UI/UX äº¤äº’ä½“éªŒ
- æ·»åŠ æ–°çš„ API æ¥å£

### æ³¨æ„äº‹é¡¹
- éŸ³ä¹æ–‡ä»¶è·¯å¾„é…ç½®åœ¨ `packages/server/src/index.ts`
- å‰ç«¯é€šè¿‡ Vite ä»£ç†è®¿é—®åç«¯ API
- ä½¿ç”¨ Yarn Workspacesï¼Œæ³¨æ„åŒ…ç®¡ç†å‘½ä»¤
- ä¿æŒè®¾è®¡ç³»ç»Ÿçš„ä¸€è‡´æ€§
